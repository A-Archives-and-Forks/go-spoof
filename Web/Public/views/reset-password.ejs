<div class="login-container">
  <div class="login-card">
    <% if (validToken) { %>
      <div class="login-welcome">
        <h2>Reset Password</h2>
        <p>Enter your new password below.</p>
      </div>

      <form class="login-form" id="resetPasswordForm">
        <input type="hidden" id="token" value="<%= token %>">
        
        <div class="form-group">
          <label for="newPassword">New Password</label>
          <input type="password" id="newPassword" name="newPassword" required>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm New Password</label>
          <input type="password" id="confirmPassword" name="confirmPassword" required>
        </div>

        <div class="password-requirements" style="max-height: 0; opacity: 0; overflow: hidden; transition: all 0.3s ease;">
          <div class="requirement" data-requirement="length">
            <span class="requirement-icon">✕</span>
            <span class="requirement-text">At least 12 characters</span>
          </div>
          <div class="requirement" data-requirement="uppercase">
            <span class="requirement-icon">✕</span>
            <span class="requirement-text">At least 1 uppercase letter</span>
          </div>
          <div class="requirement" data-requirement="lowercase">
            <span class="requirement-icon">✕</span>
            <span class="requirement-text">At least 1 lowercase letter</span>
          </div>
          <div class="requirement" data-requirement="number">
            <span class="requirement-icon">✕</span>
            <span class="requirement-text">At least 1 number</span>
          </div>
          <div class="requirement" data-requirement="special">
            <span class="requirement-icon">✕</span>
            <span class="requirement-text">At least 1 special character</span>
          </div>
        </div>

        <button type="submit" class="login-btn btn">
          <span class="btn-text">Reset Password</span>
          <span class="btn-loading" style="display: none;">
            <div class="spinner"></div>
            Resetting...
          </span>
        </button>

        <div id="resetPasswordStatus" class="status-message" style="display: none;"></div>
      </form>
    <% } else { %>
      <div class="login-welcome">
        <h2>Invalid Reset Link</h2>
        <p><%= error || 'This password reset link is invalid or has expired.' %></p>
      </div>

      <div class="login-footer">
        <a href="/forgot-password" class="create-user-link">Request New Reset Link</a>
        <br><br>
        <a href="/login" class="create-user-link">Back to Login</a>
      </div>
    <% } %>
  </div>
</div>

<% if (validToken) { %>
  <script src="/JS/reset-password.js"></script>
<% } %> 